{% assign setCounter = 0 %}
{% assign imageCounter = 0 %}
{% assign classesIndex = 0 %}


<div class="c-imageGrid">
    <div class="flex flex-col gap-1">
    {% for imageSet in imageSets %}
        {% assign setCounter = setCounter | plus: 1 %}
        {% assign imageCounter = 0 %}
        <div class="grid grid-cols-[repeat(2,minmax(0px,320px))] grid-rows-[repeat(4,minmax(0px,320px))] gap-1 sm:grid-rows-[repeat(4,minmax(0px,320px))]">
            {% for image in imageSet.images limit:8 %}
                {% assign imageId = "a" | uuidFilter %}
                {% assign imageCounter = imageCounter | plus: 1 %}
                {% assign classesIndex = setCounter | times: imageCounter %}
                {% assign imageClass = imageClasses[classesIndex] %}
                {% bookshop "generic/imageModal" image: image classes:imageClass id:imageId %}
                {% assign classesIndex = classesIndex | logFilter %}
                {% assign imageClass = imageClass | logFilter %}
            {% endfor %}
        </div>
    {% endfor %}
    </div>
</div>